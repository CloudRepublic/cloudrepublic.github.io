<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-130626812-2', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


  
  <title>Cloud Republic Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="keywords" content="Azure, Development, Office365, DevOps, Cloud, Front-end">
<meta property="og:type" content="website">
<meta property="og:title" content="Cloud Republic Blog">
<meta property="og:url" content="http://cloudrepublic.github.io/index.html">
<meta property="og:site_name" content="Cloud Republic Blog">
<meta property="og:locale" content="EN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Cloud Republic Blog">
  
    <link rel="alternate" href="/atom.xml" title="Cloud Republic Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Cloud Republic Blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">De Cloud Developers van morgen.</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://cloudrepublic.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-Getting-started-with-SPfx" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/06/14/Getting-started-with-SPfx/" class="article-date">
  <time datetime="2019-06-14T14:15:35.000Z" itemprop="datePublished">2019-06-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/06/14/Getting-started-with-SPfx/">Getting started with SharePoint Framework</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Voor een klant zijn we begonnen met het bouwen van hun eerste SharePoint Online webpart. Binnen een Citrix omgeving waar we een Developer VM ter beschikking hebben, moeten we eerst een ontwikkelomgeving opzetten. Voor SharePoint on-premises developers is het een enorme omslag hoe dingen nu ontwikkeld worden met Javascript. Je krijgt te maken met NodeJS, NPM, gulp, Yeoman, etc. om maar wat termen te noemen. Als je ervaring hebt met frontend-ontwikkelen, dan ligt de moeilijkheid in het begrijpen van de (misschien onlogische) concepten van SharePoint Online.</p>
<p>Door simpelweg de instructies te volgen die te vinden is op <a href="https://docs.microsoft.com" target="_blank" rel="noopener">https://docs.microsoft.com</a> kom je er niet helemaal. Wat ik recent bent tegengekomen is dat er fouten staan omdat de gebruikte tooling online vernieuwd zijn, maar nog niet verwerkt zijn in het SharePoint Framework. Dit geeft als resultaat dat de uitgevoerde commando’s succesvol gelukt zijn met fouten….</p>
<p><img src="/images/getting-started-with-spfx/why-successfull-with-errors.png"></p>
<p>De oplossing: Wees niet eigenwijs door altijd de laatste versie te downloaden omdat het beter is (I did this…), maar download specifieke oude versies want onderhoud van gerelateerde componenten is complex. Je doel is om een webpart te maken wat uiteindelijk javascript is. Ik vertrouw erop dat Microsoft dit op zijn tijd zal vernieuwen.</p>
<p>Om heel wat frustraties (die ik had) je te besparen, heb ik de volgende stappen opgesteld zodat je als startende SPFx-developer snel van start kan gaan met het SharePoint Framework:</p>
<ul>
<li>Zet eerst een gratis Developer Tenant op volgens deze instructies:<br><a href="https://docs.microsoft.com/en-us/sharepoint/dev/spfx/set-up-your-developer-tenant" target="_blank" rel="noopener">https://docs.microsoft.com/en-us/sharepoint/dev/spfx/set-up-your-developer-tenant</a>.</li>
<li>Maak je development omgeving op volgens deze instructies, maar sla <strong>Trusting the self-signed developer certificate</strong> over:<br><a href="https://docs.microsoft.com/en-us/sharepoint/dev/spfx/set-up-your-development-environment" target="_blank" rel="noopener">https://docs.microsoft.com/en-us/sharepoint/dev/spfx/set-up-your-development-environment</a>.</li>
<li>Noteer de benodigde urls die je vaak nodig zult hebben<br><strong>Developer-account</strong>: <em>[my-name]@[my-tenant].onmicrosoft.com</em><br><strong>SharePoint Admin-Tenant</strong>: <em>https://[my-tenant]-admin.sharepoint.com</em><br><strong>App Catalog</strong>: <em>https://[my-tenant].sharepoint.com/sites/appcatalog/SitePages/Introductiepagina.aspx</em><br><strong>(Modern) Developer Site</strong>: <em>https://[my-tenant].sharepoint.com/sites/DeveloperModern</em></li>
<li>Installeer NodeJS 10.15.3 (geen nieuwere versie):<br><a href="https://nodejs.org/dist/v10.15.3/node-v10.15.3-x6msi" target="_blank" rel="noopener">https://nodejs.org/dist/v10.15.3/node-v10.15.3-x6msi</a></li>
<li>Installeer Python 2.7 (geen nieuwere versie):<br><a href="https://www.python.org/download/releases/2.7/" target="_blank" rel="noopener">https://www.python.org/download/releases/2.7/</a></li>
<li>In de command-prompt, maak nieuwe folder aan waar je de sources wilt hebben.<br>Voor de niet-DOS generatie developers hier de commando’s om op je C-schijf in de root een map aan te maken:<br><strong>C:</strong><br><strong>md myfirstwebpart</strong><br><strong>cd myfirstwebpart</strong></li>
<li>SharePoint project aanmaken met volgende commando:<br><strong>yo @microsoft/sharepoint</strong><br>Beantwoord vervolgens de vragen die gesteld worden.</li>
<li>Voor de zekerheid alle packages installeren van dit project met volgende commando:<br><strong>Npm install</strong></li>
<li>Development certificaat vertrouwen met volgende commando:<br><strong>gulp trust-dev-cert</strong><br><img src="/images/getting-started-with-spfx/dev-spfx-cert.png"><br>Opmerking: Op de site van docs.microsoft.com stond deze stap boven het maken van een nieuw SPFx-project met yo@microsoft/sharepoint. Niet handig als je nog niet weet dat je een nieuw project gaat maken en zelf mag kiezen.<br><img src="/images/getting-started-with-spfx/trust-self-signed-dev-cert.png"></li>
<li>Bundel alle assets voor development doeleinde (gehost op <a href="https://localhost:xxxx" target="_blank" rel="noopener">https://localhost:xxxx</a>) met volgende commando:<br><strong>gulp bundle</strong></li>
<li>Maak de SharePoint-package voor development doeleinde (gehost op <a href="https://localhost:xxxx" target="_blank" rel="noopener">https://localhost:xxxx</a>) met volgende commando:<br><strong>gulp package-solution</strong><br>De uitvoer van dit commando komt terecht in de map ./sharepoint/solution<br>De SharePoint-package is het bestand eindigend met <strong>.sppkg</strong>.</li>
<li>Start je lokale webserver en de Workbench met het volgende commando:<br><strong>Gulp serve</strong></li>
</ul>
<p>Nu kun je aan de slag met Workbench welke automatisch gestart wordt. Je kunt het webpart toevoegen op de pagina en beginnen met ontwikkelen in Visual Studio Code. Let op: Je hebt nu geen beschikking tot data of SharePoint API’s. Het is de bedoeling dat je eerst de UI ontwikkelt en fictieve data maakt en gebruikt. Zorg dat <strong>gulp serve</strong> in de command-prompt blijft draaien. Dit is je lokale webserver van je webpart! Elke keer als je iets aanpast, compileert <strong>gulp serve</strong> je code en ververst automatisch in je browser de Workbench.</p>
<p><strong>Klaar met mockdata en wil je ontwikkelen in SharePoint Online zodat je over de echte data beschikt van Graph en SharePoint?</strong></p>
<ul>
<li>Voer de volgende commando’s uit:<br><strong>gulp bundle</strong><br><strong>gulp package-solution</strong></li>
<li>Upload en ‘implementeer’ (installeer) de SharePoint-package (.sppkg) naar je eerder ingerichte App-Catalog site:<br>bijv.: https://[my-tenant].sharepoint.com/sites/appcatalog/AppCatalog/Forms/AllItems.aspx</li>
</ul>
<p>Nu kun je de app installeren op elke SharePoint site als site beheerder en vervolgens de webpart op een willekeurige plek in je site plaatsen. Je hebt dan ook volledig beschikking tot de API’s van Graph en SharePoint.<br><em>Let op dat je webpart ‘werkt’ zolang <strong>gulp serve</strong> op de achtergrond draait en als iemand op een ander apparaat dezelfde pagina benaderdt, deze een technische foutmelding krijgt</em></p>
<p><strong>Klaar met ontwikkelen en wil je je ontwikkelde webpart deployen naar Test, Acceptatie en Productie?</strong></p>
<ul>
<li>Voer de volgende commando’s uit:<br><strong>gulp bundle –ship</strong><br><strong>gulp package-solution –ship</strong></li>
<li>Upload en ‘implementeer’ (installeer) de SharePoint-package (.sppkg) naar de App-Catalog site van gewenste tenant:<br>bijv.: https://[test/acc/prod-tenant].sharepoint.com/sites/appcatalog/AppCatalog/Forms/AllItems.aspx</li>
</ul>
<p>Nu kun je de app installeren op elke SharePoint site als site beheerder en vervolgens de webpart op een willekeurige plek in je site plaatsen. Iedereen kan de webpart gebruiken en ook op telefoon en tablet via de SharePoint App.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://cloudrepublic.github.io/2019/06/14/Getting-started-with-SPfx/" data-id="cjx635wve0000bcuny9o10sds" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Frontend/">Frontend</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Gulp/">Gulp</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Office-365/">Office 365</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/React/">React</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SPFx/">SPFx</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SharePoint-Framework/">SharePoint Framework</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SharePoint-Online/">SharePoint Online</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Webpart/">Webpart</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Workbench/">Workbench</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-follow-the-moon" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/05/22/follow-the-moon/" class="article-date">
  <time datetime="2019-05-22T16:00:00.000Z" itemprop="datePublished">2019-05-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/05/22/follow-the-moon/">Following the moon</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>In the ideal situation, we would like to release our new code with zero downtime. It is very possible that this can be done by releasing to a separate staging slot and then swapping this with the production slot. Should be zero downtime. However, there are always cases where this does not apply, where downtime can only be avoided through tedious manual intervention and multiple failover steps. Say we have an application that runs globally and we have such a case. Or if we just really, really want to make sure that our customers have as few problems as possible.</p>
<p>In this case, we propose to use the follow-the-moon (FTM) release schedule. This means releasing our application at times in different regions where for each region, the time we release at is the time where it is least likely that a customer is using the application. And yes, we know that the moon can be visible during the day, but you get the sentiment.</p>
<p>You will still want to have the entry point of your application to send your users to a region you host your application in that is 1) available and 2) close to the user. Taking a region down to release a new version of your application is still not desired, as it will either not be rerouted (e.g. because of caching) and thus will result in routing to an application that is down, or be rerouted to a region where the distance can cause undesirable increases in response times. Thus, we would like to make sure to do the release at a time where it is convenient per region, not all at once.</p>
<p>In the FTM release schedule, we may, for example, set the release time for each region to 03:00 local time. Once we approve the continuation of the release, the schedule will start to kick in and release our application to all regions at their respective optimal times. This means that our application is rolled out automatically, in different time zones, without the need for manual intervention in our multi-region roll-out process.</p>
<p>Getting our application to production globally could involve the following:</p>
<ul>
<li>Set up a continuous integration build to automate building your code</li>
<li>Set up an automatic release pipeline, automatically started from artifacts, going through multiple stages with certain filters on source branches</li>
<li>Set up the follow-the-moon release schedule for our production releases to multiple regions</li>
</ul>
<h2 id="Getting-to-the-moon"><a href="#Getting-to-the-moon" class="headerlink" title="Getting to the moon"></a>Getting to the moon</h2><p>For this part, we assume your project has some code and a build is in place to create artifacts which we can work with.</p>
<p>Suppose our release pipeline looks like this:</p>
<p><img src="/images/follow-the-moon/follow-the-moon-1.jpg"></p>
<p>We have our artifact as an entry point. We have our DEV and TST environments hooked up for continuous releases based on the develop branch. Finally, we have our ACC and PRD environments hooked up for continuous releases based on the master branch. In this case, we want to double-check the ACC environment before actually rolling out to PRD, so we add a post-deployment approval condition there.</p>
<p>Now, if we click on the pre-deployment conditions, we see the following menu:</p>
<p><img src="/images/follow-the-moon/follow-the-moon-2.jpg"></p>
<p>We enable the schedule and set it to the time where we expect our users to not use the application in that region. For example, in the WE (West Europe) Azure region, at 03:00 would be when we expect our customers to sleep, so we may decide that this is the right time to deploy.</p>
<p><img src="/images/follow-the-moon/follow-the-moon-3.jpg"></p>
<p>After we have done this for all the production environments, we have successfully implemented the FTM release schedule! Do note that using swap slots is still what you want to do. However, this principle gives us a little bit of extra safety when releasing code that may otherwise cause downtime.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://cloudrepublic.github.io/2019/05/22/follow-the-moon/" data-id="cjx635wvi0001bcunou5oi6k1" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Azure-DevOps/">Azure DevOps</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Release-pipeline/">Release pipeline</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Release-schedule/">Release schedule</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Microsoft-Build-2019-Must-Watch-Guide" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/05/09/Microsoft-Build-2019-Must-Watch-Guide/" class="article-date">
  <time datetime="2019-05-09T16:00:00.000Z" itemprop="datePublished">2019-05-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/05/09/Microsoft-Build-2019-Must-Watch-Guide/">Microsoft Build 2019 Must Watch Guide</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p></p><p>6 Mei tot 8 Mei vond het jaarlijkse event voor Microsoft ontwikkelaars plaats, namelijk: Microsoft Build.<br>Cloud Republic heeft dit evenement op de voet gevolgd en heeft daarbij een selectie gemaakt van de highlights die wij de moeite waard vinden.</p><p></p>
<p></p><p>Gaat u zitten voor grofweg een werkdag aan video’s. Even een avondje geen Netflix maar Channel 9!</p><p></p>
<div style="overflow: auto;"><div style="float: left; width: 50%"><br>    <a href="https://mybuild.techcommunity.microsoft.com/sessions/77571?source=%7B%7B%20ctrl.source" target="_blank" rel="noopener"><strong>Vision Keynote - Satya Nadella</strong></a><br>    <img src="/images/msbuild2019/keynote.jpg" style="width: 100%;"><br>    De keynote van Satya moet je natuurlijk gezien hebben. Hij was niet zo technisch als andere jaren maar zeker de moeite waard om te bekijken. In grote lijnen legt Satya uit welke koers Microsoft vaart. Altijd goed om dat scherp te hebben.<br></div><div style="float: left; width: 50%;"><br>    <a href="https://mybuild.techcommunity.microsoft.com/sessions/77572?source=%7B%7B%20ctrl.source" target="_blank" rel="noopener"><strong>Microsoft Azure: Empowering Every Developer - Scott Guthrie</strong></a><br>    <img class="nofancybox" src="/images/msbuild2019/azure_keynote.jpg" style="width: 100%;"><br>    Scott Guthrie is de grote baas van Azure. De populariteit van Azure staat als een paal boven water. In deze sessie gaat Scott door een scala van nieuwe features voor Azure en AzureDevops.<br></div></div><br><div style="overflow: auto;"><div style="float: left; width: 50%;"><br>    <a href="https://mybuild.techcommunity.microsoft.com/sessions/77031?source=sessions" target="_blank" rel="noopener"><strong>.NET Platform Overview and Roadmap - Scott Hunter and Scott Hanselman</strong></a><br>    <img src="/images/msbuild2019/net_overview.jpg" style="width: 100%;"><br>    .NET is en blijft toch wel het development platform van Microsoft. In deze sessie nemen de “Lesser Scotts” je mee in de nieuwe features van .NET (Core) en geven ze een inkijkje in de toekomst van .NET. (Deze sessie bevat informatie over de aankondiging van .NET 5.0)<br></div><div style="float: left; width: 50%;"><br>    <a href="https://mybuild.techcommunity.microsoft.com/sessions/77123?source=sessions" target="_blank" rel="noopener"><strong>All the Developer Things with Hanselman and Friends - Scott Hanselman</strong></a><br>    <img src="/images/msbuild2019/all_the_developer_things.jpg" style="width: 100%;"><br>    Scott Hanselman is naast een uitstekende developer ook een halve komiek. Zijn sessies zijn vaak informatief en hilarisch tegelijk, zo ook deze. Veel kijk plezier!<br></div></div><br><div style="overflow: auto;"><div style="float: left; width: 50%"><br>    <a href="https://mybuild.techcommunity.microsoft.com/sessions/77385?source=sessions" target="_blank" rel="noopener"><strong>Look back up C# - Andres Hejlsberg</strong></a><br>    <img src="/images/msbuild2019/look_back.jpg" style="width: 100%;"><br>    Andres Hejlsberg is één van de “Technical Fellows” van Microsoft. Met andere woorden hij is de God Father van C# en TypeScript. Zijn visie op programmeertalen is ongekend, als je iets wilt leren over language design, compilers en dergelijke. Kijk dan zijn sessies.<br></div><div style="float: left; width: 50%;"><br>    <a href="https://mybuild.techcommunity.microsoft.com/sessions/77040?source=sessions" target="_blank" rel="noopener"><strong>Whats new in TypeScript - Daniel Rosenwasser</strong></a><br>    <img src="/images/msbuild2019/whats_new_in_typescript.jpg" style="width: 100%;"><br>    Wie schrijft er nog plain JavaScript? Velen zijn al over naar TypeScript, wij ook. Daniel Rosenwasser neemt je mee in de wonderen wereld van TypeScript. Ik durf te wedden dat je 50% van de TypeScript features nog niet gebruikt.<br></div></div><br><div style="overflow: auto;"><div style="float: left; width: 50%"><br>    <a href="https://mybuild.techcommunity.microsoft.com/sessions/77336?source=sessions" target="_blank" rel="noopener"><strong>Serverless web apps with Blazor, Azure Functions… - Jeff Hollan</strong></a><br>    <img src="/images/msbuild2019/serverless_webapps.jpg" style="width: 100%;"><br>    Wil je een sessie met veel nieuwe techniek? Kijk dan deze sessie van Jeff Holan. Jeff is de Program Manager van Azure Functions en bouwt in deze sessie een Blazor (C# Web Assembly) applicatie bovenop Azure Functions.<br></div><div style="float: left; width: 50%;"><br>    <a href="https://mybuild.techcommunity.microsoft.com/sessions/77002?source=sessions" target="_blank" rel="noopener"><strong>Inside Azure datacenter architecture - Mark Russinovich</strong></a><br>    <img src="/images/msbuild2019/inside_azure_data_centre.jpg" style="width: 100%;"><br>    Deze sessie moet je gewoon kijken als je ontwikkelt in Azure. Mark Russinovich is de CTO van Azure en hij geeft je in deze sessie een inkijkje in de data centers van Azure.<br></div></div>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://cloudrepublic.github.io/2019/05/09/Microsoft-Build-2019-Must-Watch-Guide/" data-id="cjx635wvq0003bcunqnxue8yl" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Microsoft-Build/">Microsoft Build</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Proof-of-concept-met-durable-functions" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/28/Proof-of-concept-met-durable-functions/" class="article-date">
  <time datetime="2019-03-28T18:54:37.000Z" itemprop="datePublished">2019-03-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/28/Proof-of-concept-met-durable-functions/">Proof of concept met durable functions</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Case-omschrijving"><a href="#Case-omschrijving" class="headerlink" title="Case omschrijving "></a>Case omschrijving </h2><p>Voor een klant heb ik een Proof of Concept gemaakt om grote hoeveelheden XML bestanden te transformeren het gaat dan 3000 bestanden per keer met een totale grote van 18 gigabyte. Voor dit artikel kan ik wegens privacy niet de echte data gebruiken en heb ik een dataset gebruikt van <a href="https://www.kaggle.com/datasets" target="_blank" rel="noopener">https://www.kaggle.com/datasets</a> het gaat hier om een dataset met landen en de wijnen welke uit het desbetreffende land komen. </p>
<p>Het doel is om de wijnen uit de XML dump te halen en deze om te zetten naar een JSON formaat en deze bestanden te uploaden in een blob container. We krijgen dus per wijn een JSON bestand in een blob container. Dit alles moet gebeuren op basis van durable functions en een constumption plan.</p>
<h2 id="Wat-is-de-opzet-van-de-POC"><a href="#Wat-is-de-opzet-van-de-POC" class="headerlink" title="Wat is de opzet van de POC"></a>Wat is de opzet van de POC</h2><p>Ik ga hier niet heel diep in op wat Durable functions zijn want dat heeft Microsoft heel goed omschreven in hun documentatie <a href="https://docs.microsoft.com/en-us/azure/azure-functions/durable/durable-functions-overview" target="_blank" rel="noopener">https://docs.microsoft.com/en-us/azure/azure-functions/durable/durable-functions-overview</a>.</p>
<p>Ik heb 40 bestanden met landen en wijnen. 1 bestand is ongeveer 75 mb groot. Voor test doeleinde zijn dit dezelfde bestanden met een andere naam. Dit is meer om een gelijkwaardige load op de functie te krijgen als bij de echte POC.</p>
<p>Ik maak in de POC gebruik ik een <em>extract countries</em> activity om de landen uit de XML te halen. Hierna ga met het <em>fan out</em> principe ik per land een activity starten om de wijnen per land uit structuur te halen. Als dit allemaal klaar is wordt er per wijn een activity gestart welke de wijn in JSON formaat upload in een blob container.</p>
<p>Zie hier een overzicht van de durable function:<br><img src="/images/durable-functions-overview.png"></p>
<h2 id="Waar-ben-ik-tegenaan-gelopen-tijdens-de-POC"><a href="#Waar-ben-ik-tegenaan-gelopen-tijdens-de-POC" class="headerlink" title="Waar ben ik tegenaan gelopen tijdens de POC"></a>Waar ben ik tegenaan gelopen tijdens de POC</h2><p>Op papier leek dit de meest perfecte oplossing ik kon de landen in een activity uit de dump halen en dan per land een activity starten om de wijnen op te halen.<br>Dit geeft je een goede schaalbaarheid, als er meer landen in komen worden er meer <em>extract wine</em> activitiy taken aangemaakt.<br>Als er meer wijnen per land komen worden er meerdere <em>upload</em> activity taken aangemaakt.</p>
<p>Per bestand gaat de blob trigger af op de functie. De blob triggers welke niet meteen afgehandeld kunnen worden worden in een queue opgeslagen in het storage account van de function. Deze queue heeft een naam welke begint met <em>azure-webjobs-blobtrigger-</em></p>
<p>Als het bestand binnenkomt wordt er een orchestrator opgestart welke de blobnaam doorgeeft aan de orchestrator.<br><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">FunctionName(<span class="meta-string">"WineFunction"</span>)</span>]</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">async</span> Task <span class="title">Run</span>(<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">    [BlobTrigger(<span class="string">"wine/&#123;name&#125;"</span></span>)]Stream myBlob,</span></span><br><span class="line"><span class="function">    <span class="keyword">string</span> name,</span></span><br><span class="line"><span class="function">    [OrchestrationClient]DurableOrchestrationClient starter,</span></span><br><span class="line"><span class="function">    ILogger log)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    log.LogDebug(<span class="string">$"Process file: <span class="subst">&#123;name&#125;</span>"</span>);</span><br><span class="line">    <span class="keyword">await</span> starter.StartNewAsync(<span class="string">"O_Orchestrator"</span>, name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>De orchestrator start de activity <em>A_ExtractWineCountries</em> op om de XML op land niveau op te knippen en wacht tot dit klaar is.<br><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">FunctionName(<span class="meta-string">"O_Orchestrator"</span>)</span>]</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">async</span> Task <span class="title">Orchestrator</span>(<span class="params">[OrchestrationTrigger] DurableOrchestrationContext context, ILogger log</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">var</span> fileName = context.GetInput&lt;<span class="keyword">string</span>&gt;();</span><br><span class="line">    <span class="keyword">var</span> wineData = <span class="keyword">await</span> context.CallActivityAsync&lt;Countries[]&gt;(<span class="string">"A_ExtractWineCountries"</span>, fileName);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>Als dit klaar is wordt er per land de activity <em>A_ExtractWines</em> gestart om de wijnen uit de data te halen.<br><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">FunctionName(<span class="meta-string">"O_Orchestrator"</span>)</span>]</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">async</span> Task <span class="title">Orchestrator</span>(<span class="params">[OrchestrationTrigger] DurableOrchestrationContext context, ILogger log</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">var</span> fileName = context.GetInput&lt;<span class="keyword">string</span>&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> wineCountries = <span class="keyword">await</span> context.CallActivityAsync&lt;Countries[]&gt;(<span class="string">"A_ExtractWineCountries"</span>, fileName);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> tasks = <span class="keyword">new</span> List&lt;Task&lt;Wine[]&gt;&gt;();</span><br><span class="line">    <span class="keyword">foreach</span> (Countries wineCountry <span class="keyword">in</span> wineCountries)</span><br><span class="line">    &#123;</span><br><span class="line">        tasks.Add(context.CallActivityAsync&lt;Wine[]&gt;(<span class="string">"A_ExtractWines"</span>, wineCountry));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> wineTasks = <span class="keyword">await</span> Task.WhenAll(tasks);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>Als alle wijn data is opgehaald worden deze parallel geupload in de <em>A_UploadWine</em> activity.  </p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">FunctionName(<span class="meta-string">"O_Orchestrator"</span>)</span>]</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">async</span> Task <span class="title">Orchestrator</span>(<span class="params">[OrchestrationTrigger] DurableOrchestrationContext context, ILogger log</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">var</span> fileName = context.GetInput&lt;<span class="keyword">string</span>&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> wineCountries = <span class="keyword">await</span> context.CallActivityAsync&lt;Countries[]&gt;(<span class="string">"A_ExtractWineCountries"</span>, fileName);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> tasks = <span class="keyword">new</span> List&lt;Task&lt;Wine[]&gt;&gt;();</span><br><span class="line">    <span class="keyword">foreach</span> (Countries wineCountry <span class="keyword">in</span> wineCountries)</span><br><span class="line">    &#123;</span><br><span class="line">        tasks.Add(context.CallActivityAsync&lt;Wine[]&gt;(<span class="string">"A_ExtractWines"</span>, wineCountry));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> wineTasks = <span class="keyword">await</span> Task.WhenAll(tasks);</span><br><span class="line"></span><br><span class="line">    List&lt;Task&gt; uploadWineTasks = <span class="keyword">new</span> List&lt;Task&gt;();</span><br><span class="line">    <span class="keyword">foreach</span> (Wine wineTask <span class="keyword">in</span> wineTasks.SelectMany(x =&gt; x))</span><br><span class="line">    &#123;</span><br><span class="line">        uploadWineTasks.Add(context.CallActivityAsync(<span class="string">"A_UploadWine"</span>, wineTask));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">await</span> Task.WhenAll(uploadWineTasks);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!context.IsReplaying)</span><br><span class="line">    &#123;</span><br><span class="line">        log.LogDebug(<span class="string">$"Finished file: <span class="subst">&#123;fileName&#125;</span>"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Tot zover ziet het er goed en schaalbaar uit tot ik het publiceerde naar een Azure function app.<br>Ik kopieer met azcopy 40 bestanden van 75 mb in de blob container <em>wine</em> en start application insights op om te zien hoe de applicatie zich gedraagt.<br><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">AzCopy /Source:https://sourceaccount.blob.core.windows.net/source /Dest:https://destaccount.blob.core.windows.net/wine /SourceKey:key1 /DestKey:key2 /S</span><br></pre></td></tr></table></figure></p>
<p>Het resultaat wat ik te zien kreeg maakte me alles behalve blij. De applicatie liep niet soepel en stopte soms geheel met het verwerken van bestanden.<br>Na lang zoeken en fine tunen kwam ik erachter wat een grote oorzaak van het probleem was.</p>
<p>Een Azure function app op een consumption plan heeft een geheugen limiet van 1,5 gigabyte en 1 processor core. Standaard draait Azure durable functions 10X het aantal activities als de host proecessor cores heeft (bij een consumption plan is dit dus 10 activities) en als er toevallig meerdere activities <em>A_ExtractWineCountries</em> worden gestart worden er meerdere XML bestanden in het geheugen geladen a 75 mb. Reken hierbij nog de orchestrator bij en het overige geheugen verbruik van een function app en je zit al snel aan 1,5 gig geheugen.</p>
<p><img src="/images/durable-functions-applicationInsight.png"></p>
<p>Zie het geheugen verbruik van 1 server zit al op 1112MB deze server.</p>
<p>Als je de geheugen limiet hebt bereikt wordt de server gestopt en worden de taken welke op de function app draaide niet afgemaakt deze worden deze opnieuw gestart op een andere function app.  </p>
<p>Je kan instellen hoeveel activities en orchestrators er op een function app gestart mogen worden. Dit kun je doen in de host.config (<a href="https://docs.microsoft.com/en-us/azure/azure-functions/durable/durable-functions-bindings#hostjson-settings)" target="_blank" rel="noopener">https://docs.microsoft.com/en-us/azure/azure-functions/durable/durable-functions-bindings#hostjson-settings)</a>. Je kan de waardes aanpassen naar een lagere waarde alleen loopt het proces niet lekker stabiel door. Doordat het niet lekker stabiel doorloopt en dit als gevolg heeft dat de cpu belasting op en neer gaat gaat het automatisch schalen niet soepel.<br><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"extensions"</span>: &#123;</span><br><span class="line">    <span class="attr">"durableTask"</span>: &#123;</span><br><span class="line">      <span class="attr">"maxConcurrentActivityFunctions"</span>: <span class="number">10</span>,</span><br><span class="line">      <span class="attr">"maxConcurrentOrchestratorFunctions"</span>: <span class="number">10</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="Demoproject"><a href="#Demoproject" class="headerlink" title="Demoproject"></a>Demoproject</h2><p>Ik heb een demo project gemaakt welke een volledig werkende solution bevat.<br>Zie hieronder de stappen om het durable functions project te starten:</p>
<ul>
<li>Clone de repository <a href="https://github.com/marcoippel/durablefunctionsdemo" target="_blank" rel="noopener">https://github.com/marcoippel/durablefunctionsdemo</a></li>
<li>Maak een storage account aan in Azure</li>
<li>Maak een functions app aan in Azure en configureer de connectionstring in de appsettings </li>
<li>Maak in de blob storage een 3 tal blob containers aan genaamd:<ul>
<li>source</li>
<li>wines</li>
<li>wine</li>
</ul>
</li>
<li>Publiseer het project naar de functions app.</li>
<li>Maak van het bestand DurableFunctionDemo/winedata.xml 40 kopieën en upload deze naar de wine folder in Azure storage</li>
</ul>
<p>Start applications insight en kijk hoe de applicatie zich gedraagt.</p>
<h2 id="Conclusie"><a href="#Conclusie" class="headerlink" title="Conclusie"></a>Conclusie</h2><p>Durable functions op een consumption plan is een hele mooie oplossing maar niet voor een applicatie welke intensief geheugen gebruikt en snel veel bestanden moet verwerken. Je blijft met het geheugen limiet van 1,5 gigabyte en je hebt geen invloed op welke activities er op een functions app worden gehost. </p>
<p><img src="/images/durable-functions-storage.png"></p>
<p>Er zit best wel wat overhead in het proces hij gebruikt namelijk je Azure storage account als queue voor communicatie tussen de orchestrator en de activities. Als je bericht groter is dan in de queue pas plaatst hij het in een blob container. Bijvoorbeeld als de berichten welke naar de activity <em>A_UploadWine</em> gaan groter zijn als 64KB (<a href="https://docs.microsoft.com/nl-nl/azure/service-bus-messaging/service-bus-azure-and-service-bus-queues-compared-contrasted#capacity-and-quotas" target="_blank" rel="noopener">https://docs.microsoft.com/nl-nl/azure/service-bus-messaging/service-bus-azure-and-service-bus-queues-compared-contrasted#capacity-and-quotas</a>) dan zullen deze in een blob container <em>durablefunctionshub-largemessages</em> worden opgeslagen om vervolgens op gehaald te worden in de activity <em>A_UploadWine</em> en deze activity upload hem dan naar de uiteindelijke blob container. Hier zitten al 2 blob storage acties in welke ook tijd en resources kosten.</p>
<p>Deze POC heeft het doel niet behaald wat we voor ogen hadden en we zullen opzoek gaan naar een andere oplossing. Het idee is om de taken te verdelen over meerdere Azure function apps. Zodra die POC is uitgewerkt zal ik de bevindingen delen in een nieuwe blog.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://cloudrepublic.github.io/2019/03/28/Proof-of-concept-met-durable-functions/" data-id="cjw0ftevl00043ounfgb7lhwd" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Migrating-AngularJS-to-Angular-Going-Hybrid" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/01/11/Migrating-AngularJS-to-Angular-Going-Hybrid/" class="article-date">
  <time datetime="2019-01-11T13:28:20.000Z" itemprop="datePublished">2019-01-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/01/11/Migrating-AngularJS-to-Angular-Going-Hybrid/">Migrating AngularJS to Angular - Going Hybrid</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>So, you are finally ready to start to migrate your old AngularJS to the new fancy Angular 7. But it is kind of big and you cannot afford not to release for half a year. So how are you going to do it? You want to upgrade to the latest Angular version, but you can’t do it with a big bang. Well there is a great hybrid solution made by the Angular team called @Angular/Upgrade. It basically lets you run AngularJS inside Angular and makes all you’re AngularJS Services, Components, Directives etc. available in Angular and vice versa.     </p>
<h2 id="Getting-your-AngularJS-Code-ready"><a href="#Getting-your-AngularJS-Code-ready" class="headerlink" title="Getting your AngularJS Code ready"></a>Getting your AngularJS Code ready</h2><p>First, we need to get our source code and build process ready. Secondly, we need to switch to webpack, this will make the rest of the steps way easier. Because every application has different needs I won’t go into detail on how to do this. But for those of you who’ve never used Webpack before, <a href="https://webpack.js.org/guides/getting-started/" target="_blank" rel="noopener">this quickstart</a> will give you a head start.</p>
<p>If you haven’t done so already install all your dependencies with a package manager like NPM, this will save you a lot of headaches while merging AngularJS with Angular.</p>
<p>The last step is to migrate all JavaScript files to typescript. Although recommended it is only required if you are planning to migrate your existing AngularJS code to Angular.</p>
<p><code>rename *.js *.ts</code></p>
<p>Should do the trick on windows.<br>To use TypeScript, you need to add TSConfig file, a basic example is found below.<br><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"compilerOptions"</span>: &#123;</span><br><span class="line">    <span class="attr">"noImplicitAny"</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"noEmitOnError"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"removeComments"</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"emitDecoratorMetadata"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"sourceMap"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"target"</span>: <span class="string">"es5"</span>,</span><br><span class="line">    <span class="attr">"module"</span>: <span class="string">"es2015"</span>,</span><br><span class="line">    <span class="attr">"moduleResolution"</span>: <span class="string">"node"</span>,</span><br><span class="line">    <span class="attr">"experimentalDecorators"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"noStrictGenericChecks"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"lib"</span>: [<span class="string">"es2018"</span>, <span class="string">"dom"</span>],</span><br><span class="line">    <span class="attr">"suppressImplicitAnyIndexErrors"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"rootDir"</span>: <span class="string">"src"</span>,</span><br><span class="line">    <span class="attr">"outDir"</span>: <span class="string">"dist"</span>,</span><br><span class="line">    <span class="attr">"baseUrl"</span>: <span class="string">"./"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>Optionally you could add type definitions for AngularJS and other dependencies this will add type hint’s for your old AngularJS code.</p>
<h2 id="Installing-Angular"><a href="#Installing-Angular" class="headerlink" title="Installing Angular"></a>Installing Angular</h2><p>So the first step is to installing the Angular Framework. Just run the following NPM command and your good.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i –save @angular/common @angular/compiler @angular/core @angular/forms @angular/http @angular/platform-browser @angular/platform-browser-dynamic core-js zone.js</span><br></pre></td></tr></table></figure>
<p>We need to add one more dependency. This package will handle the communication between AngularJS and Angular.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i –save @angular/upgrade</span><br></pre></td></tr></table></figure>
<h2 id="Setting-up-the-hybrid"><a href="#Setting-up-the-hybrid" class="headerlink" title="Setting up the hybrid"></a>Setting up the hybrid</h2><p>Now that we have everything installed we can start coding. First add an file called app.module.ts to your source root. This will be our root angular module and will bootstrap AngularJS.</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; NgModule &#125; <span class="keyword">from</span> <span class="string">"@angular/core"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; BrowserModule &#125; <span class="keyword">from</span> <span class="string">"@angular/platform-browser"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; UpgradeModule &#125; <span class="keyword">from</span> <span class="string">"@angular/upgrade/static"</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@NgModule</span>(&#123;</span><br><span class="line">  imports: [BrowserModule, UpgradeModule],</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> AppModule &#123;</span><br><span class="line">  <span class="keyword">constructor</span>(<span class="params"><span class="keyword">private</span> upgrade: UpgradeModule</span>) &#123;&#125;</span><br><span class="line">  <span class="keyword">public</span> ngDoBootstrap() &#123;</span><br><span class="line">    <span class="comment">// bootstrap(angularJs root element in dom, AngularJS root module, bootstrap options)</span></span><br><span class="line">    <span class="keyword">this</span>.upgrade.bootstrap(<span class="built_in">document</span>.body, [<span class="string">"app"</span>], &#123; strictDi: <span class="literal">true</span> &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Angular doesn’t magically know that this is the root module. The code to tell Angular this is usually placed in a file called main.ts, this file needs to be added as an entry in the webpack configuration.</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">"./app"</span>; <span class="comment">// AngularJS code</span></span><br><span class="line"><span class="keyword">import</span> &#123; platformBrowserDynamic &#125; <span class="keyword">from</span> <span class="string">"@angular/platform-browser-dynamic"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; AppModule &#125; <span class="keyword">from</span> <span class="string">"./app.module"</span>;</span><br><span class="line"></span><br><span class="line">platformBrowserDynamic().bootstrapModule(AppModule);</span><br></pre></td></tr></table></figure>
<p>Finally, we need to add some Polyfills. Usually this is added in a separate file and added to the webpack config as an entry. So, let’s add a polyfills.ts<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">"core-js/es6/reflect"</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">"core-js/es7/reflect"</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">"zone.js/dist/zone"</span>;</span><br></pre></td></tr></table></figure></p>
<p>That’s it. You are running in hybrid.</p>
<h2 id="So-what’s-next"><a href="#So-what’s-next" class="headerlink" title="So, what’s next"></a>So, what’s next</h2><p>There is not one way to upgrade your project. If you’re planning to migrate your existing AngularJS components to Angular you should take a look at upgrading AngularJS components to work with Angular <a href="https://angular.io/api/upgrade/static/UpgradeComponent" target="_blank" rel="noopener">over here</a> and Downgrading Angular Components to work with AngularJS <a href="https://angular.io/api/upgrade/static/downgradeComponent" target="_blank" rel="noopener">over here</a>. These will allow you to keep upgrade a component without breaking the stuff around it.<br>But if you are on an older code base that uses separate controllers and html templates, you should rewrite your code to a component-based system. A tool that could help you is the hybrid library for UI-Router. This will allow you to upgrade page by page. You can find this library <a href="https://github.com/ui-router/angular-hybrid" target="_blank" rel="noopener">over here</a>.</p>
<p><strong> This blog is written by: </strong><br>Martin Ligtenberg</p>
<script src="//platform.linkedin.com/in.js" type="text/javascript"></script>
<script type="IN/MemberProfile" data-id="https://www.linkedin.com/in/mvligtenberg/" data-format="inline" data-related="false"></script>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://cloudrepublic.github.io/2019/01/11/Migrating-AngularJS-to-Angular-Going-Hybrid/" data-id="cjw0ftevk00033ounzwfblanr" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Angular/">Angular</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/AngularJS/">AngularJS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Hybrid/">Hybrid</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Webpack/">Webpack</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Cloud-Republic-investeert-in-medewerkers" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/06/01/Cloud-Republic-investeert-in-medewerkers/" class="article-date">
  <time datetime="2018-06-01T12:28:20.000Z" itemprop="datePublished">2018-06-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/06/01/Cloud-Republic-investeert-in-medewerkers/">Cloud Republic investeert in medewerkers</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Bij Cloud Republic werken developers die steen goed zijn in het bouwen van maatwerkapplciaties in de Cloud.<br>Wij geloven dat synergie in een team belangrijk is. Wij streven naar een team met soortgelijke skills die elkaar weten te versterken.<br>Om te toetsen of nieuwe medewerkers passen en om huidige medewerkers een duidelijke groei richting te geven hebben we een baseline opgesteld.</p>
<p>Deze baseline is een set van skills en competenties die je “zou moeten” beheersen. Ik zeg met klem “zou moeten” want we weten dat de perfecte developer niet bestaat.<br>Wij vinden het belangrijker dat je een duidelijke groei richting hebt, dan dat je alle competenties al beheerst.</p>
<p><img src="/images/baseline.png"></p>
<p>Wij geloven dat je de basis kennis van Front-end, Back-end, Cloud en DevOps moet hebben om effectief maatwerkapplicaties in de Cloud te bouwen. Dit betekent niet dat je je niet kan specialiseren, we moedigen specialisme’s in één van de competenties ook aan!</p>
<h2 id="Investering"><a href="#Investering" class="headerlink" title="Investering"></a>Investering</h2><p>Microsoft is onlangs gestart met de uitrol van <a href="https://www.microsoft.com/en-us/learning/browse-new-certification.aspx" target="_blank" rel="noopener">Role-based certificeringen</a>. 2 van deze certificeringstrajecten zijn ons op het lijf geschreven, namelijk:</p>
<p><div><div style="width: 50%; float:left;"><img src="/images/azure-developer.png" width="200"></div><div style="width: 50%; float: left;"><img src="/images/azure-solutions-architect.png" width="200"></div></div><br><br><br>Wij moedigen onze medewerkers aan om deze certificeringen te halen. Een traject bestaat uit 2 examens of 1 examen als je een vergelijkbaar ouder traject hebt afgerond.<br>De kosten zijn 160 dollar per examen, hier doen we bij Cloud Republic niet moeilijk over. Sterker nog je krijgt een bonus als je het examen in 1x haalt.</p>
<p>We willen medewerkers motiveren om aantoonbare kennis van Azure op te doen en daar doen we dan ook alles voor.<br>Medewerkers krijgen naast een vergoeding voor de examens ook tijd om te studeren, zodat je niet alles thuis in de avonduurtjes hoeft te doen. Sterker nog, als er genoeg animo is huren we soms zelfs een trainer in om de medewerkers in een sneltrein vaart klaar te stomen voor de examens.</p>
<p><img src="/images/formule.png"></p>
<p>Meer weten over Cloud Republic? Bezoek: <a href="https://cloudrepublic.nl" target="_blank" rel="noopener">https://cloudrepublic.nl</a> of neem contact op met <a href="https://twitter.com/DibranMulder" target="_blank" rel="noopener">@DibranMulder</a> op Twitter of op <a href="https://www.linkedin.com/in/dibranmulder/" target="_blank" rel="noopener">LinkedIn</a>.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://cloudrepublic.github.io/2018/06/01/Cloud-Republic-investeert-in-medewerkers/" data-id="cjw0ftev900003oune0srmvzo" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Azure/">Azure</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Certificering/">Certificering</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Cloud-Republic/">Cloud Republic</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-hello-world" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/04/01/hello-world/" class="article-date">
  <time datetime="2018-04-01T12:28:20.000Z" itemprop="datePublished">2018-04-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/04/01/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to our blog, Cloud Republic will post here about: Cloud Development<br><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// A Hello World! program in C#.</span></span><br><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">namespace</span> <span class="title">HelloWorld</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Hello</span> </span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"></span>) </span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">"Hello World!"</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// Keep the console window open in debug mode.</span></span><br><span class="line">            Console.WriteLine(<span class="string">"Press any key to exit."</span>);</span><br><span class="line">            Console.ReadKey();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://cloudrepublic.github.io/2018/04/01/hello-world/" data-id="cjw0ftevp00073ounomxvc8nx" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Angular/">Angular</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/AngularJS/">AngularJS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Azure/">Azure</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Azure-DevOps/">Azure DevOps</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Certificering/">Certificering</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Cloud-Republic/">Cloud Republic</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Frontend/">Frontend</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Gulp/">Gulp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hybrid/">Hybrid</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Microsoft-Build/">Microsoft Build</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Office-365/">Office 365</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/">React</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Release-pipeline/">Release pipeline</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Release-schedule/">Release schedule</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SPFx/">SPFx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SharePoint-Framework/">SharePoint Framework</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SharePoint-Online/">SharePoint Online</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Webpack/">Webpack</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Webpart/">Webpart</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Workbench/">Workbench</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Angular/" style="font-size: 10px;">Angular</a> <a href="/tags/AngularJS/" style="font-size: 10px;">AngularJS</a> <a href="/tags/Azure/" style="font-size: 10px;">Azure</a> <a href="/tags/Azure-DevOps/" style="font-size: 10px;">Azure DevOps</a> <a href="/tags/Certificering/" style="font-size: 10px;">Certificering</a> <a href="/tags/Cloud-Republic/" style="font-size: 10px;">Cloud Republic</a> <a href="/tags/Frontend/" style="font-size: 10px;">Frontend</a> <a href="/tags/Gulp/" style="font-size: 10px;">Gulp</a> <a href="/tags/Hybrid/" style="font-size: 10px;">Hybrid</a> <a href="/tags/Microsoft-Build/" style="font-size: 10px;">Microsoft Build</a> <a href="/tags/Office-365/" style="font-size: 10px;">Office 365</a> <a href="/tags/React/" style="font-size: 10px;">React</a> <a href="/tags/Release-pipeline/" style="font-size: 10px;">Release pipeline</a> <a href="/tags/Release-schedule/" style="font-size: 10px;">Release schedule</a> <a href="/tags/SPFx/" style="font-size: 10px;">SPFx</a> <a href="/tags/SharePoint-Framework/" style="font-size: 10px;">SharePoint Framework</a> <a href="/tags/SharePoint-Online/" style="font-size: 10px;">SharePoint Online</a> <a href="/tags/Webpack/" style="font-size: 10px;">Webpack</a> <a href="/tags/Webpart/" style="font-size: 10px;">Webpart</a> <a href="/tags/Workbench/" style="font-size: 10px;">Workbench</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/06/14/Getting-started-with-SPfx/">Getting started with SharePoint Framework</a>
          </li>
        
          <li>
            <a href="/2019/05/22/follow-the-moon/">Following the moon</a>
          </li>
        
          <li>
            <a href="/2019/05/09/Microsoft-Build-2019-Must-Watch-Guide/">Microsoft Build 2019 Must Watch Guide</a>
          </li>
        
          <li>
            <a href="/2019/03/28/Proof-of-concept-met-durable-functions/">Proof of concept met durable functions</a>
          </li>
        
          <li>
            <a href="/2019/01/11/Migrating-AngularJS-to-Angular-Going-Hybrid/">Migrating AngularJS to Angular - Going Hybrid</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 Cloud Republic<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>